<mxfile host="app.diagrams.net" modified="2022-06-18T02:41:24.088Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36" etag="2sRGSM9vSSnb-A7BAXvp" version="20.0.1" type="github">
  <diagram id="B0aUDjMEMcQMrFGBh2tU" name="第 1 页">
    <mxGraphModel dx="1422" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="20hMEODcdLOq8SeCK55--4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="5ZaRpA1pt5UQ2hP38Ieq-1" target="20hMEODcdLOq8SeCK55--3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-1" value="分部署存储" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#008a00;fontColor=#ffffff;strokeColor=#005700;" parent="1" vertex="1">
          <mxGeometry x="40" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="5ZaRpA1pt5UQ2hP38Ieq-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="260" />
              <mxPoint x="540" y="100" />
            </Array>
            <mxPoint x="390" y="260" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="5ZaRpA1pt5UQ2hP38Ieq-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="390" y="260" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="5ZaRpA1pt5UQ2hP38Ieq-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="260" />
              <mxPoint x="540" y="410" />
            </Array>
            <mxPoint x="390" y="260" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="5ZaRpA1pt5UQ2hP38Ieq-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="260" />
              <mxPoint x="540" y="570" />
            </Array>
            <mxPoint x="420" y="260" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-2" value="实践使用" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="300" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-4" value="分布式部署" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="610" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5ZaRpA1pt5UQ2hP38Ieq-6" target="5ZaRpA1pt5UQ2hP38Ieq-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-6" value="磁盘容量规范" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="610" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-8" value="最小建议4台服务器" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="810" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5ZaRpA1pt5UQ2hP38Ieq-10" target="5ZaRpA1pt5UQ2hP38Ieq-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-10" value="推荐配置" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="610" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-12" value="https://min.io/product/reference-hardware" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="810" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ZaRpA1pt5UQ2hP38Ieq-14" value="Reed Solomon算法" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="610" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="20hMEODcdLOq8SeCK55--3" target="5ZaRpA1pt5UQ2hP38Ieq-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="20hMEODcdLOq8SeCK55--3" target="20hMEODcdLOq8SeCK55--9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="230" y="260" />
              <mxPoint x="230" y="700" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--3" value="minio" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" vertex="1" parent="1">
          <mxGeometry x="40" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="20hMEODcdLOq8SeCK55--9" target="20hMEODcdLOq8SeCK55--11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="20hMEODcdLOq8SeCK55--9" target="20hMEODcdLOq8SeCK55--13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="700" />
              <mxPoint x="540" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="20hMEODcdLOq8SeCK55--9" target="20hMEODcdLOq8SeCK55--19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="700" />
              <mxPoint x="540" y="970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--9" value="特性" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" vertex="1" parent="1">
          <mxGeometry x="310" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--11" value="高可用" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" vertex="1" parent="1">
          <mxGeometry x="610" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--13" value="数据保护" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" vertex="1" parent="1">
          <mxGeometry x="610" y="810" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--17" value="&lt;ul style=&quot;margin: 0px 0px 0px 30px; padding: 0px; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; background-color: rgba(255, 255, 255, 0.5); line-height: 1;&quot;&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;单机 Minio 服务存在单点故障，相反，如果是一个 N 节点的分布式 Minio ,只要有 N/2 节点在线，你的数据就是安全的。不过你需要至少有 N/2+1 个节点来创建新的对象。&lt;/b&gt;&lt;/li&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;例如，一个 8 节点的 Minio 集群，每个节点一块盘，就算 4 个节点宕机，这个集群仍然是可读的，不过你需要 5 个节点才能写数据。&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="780" y="670" width="1100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--18" value="&lt;ul style=&quot;margin: 0px 0px 0px 30px; padding: 0px; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; background-color: rgba(255, 255, 255, 0.5);&quot;&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;分布式 Minio 采用纠删码来防范多个节点宕机和位衰减。&lt;/b&gt;&lt;/li&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;分布式 Minio 至少需要 4 个节点（4台服务器），使用分布式 Minio 就 自动引入了纠删码功能。&lt;/b&gt;&lt;/li&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;纠删码是一种恢复丢失和损坏数据的数学算法， Minio 采用 Reed-Solomon code 将对象拆分成 N/2 数据和 N/2 奇偶校验块。 这就意味着如果是 12 块盘，一个对象会被分成 6 个数据块、6 个奇偶校验块，你可以丢失任意 6 块盘（不管其是存放的数据块还是奇偶校验块），你仍可以从剩下的盘中的数据进行恢复。&lt;/b&gt;&lt;/li&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;纠删码的工作原理和 RAID 或者复制不同，像 RAID6 可以在损失两块盘的情况下不丢数据，而 Minio 纠删码可以在丢失一半的盘的情况下，仍可以保证数据安全。 而且 Minio 纠删码是作用在对象级别，可以一次恢复一个对象，而RAID 是作用在卷级别，数据恢复时间很长。 Minio 对每个对象单独编码，存储服务一经部署，通常情况下是不需要更换硬盘或者修复。Minio 纠删码的设计目标是为了性能和尽可能的使用硬件加速。&lt;/b&gt;&lt;/li&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;位衰减又被称为数据腐化 Data Rot、无声数据损坏 Silent Data Corruption ，是目前硬盘数据的一种严重数据丢失问题。硬盘上的数据可能会神不知鬼不觉就损坏了，也没有什么错误日志。正所谓明枪易躲，暗箭难防，这种背地里犯的错比硬盘直接故障还危险。 所以 Minio 纠删码采用了高速 HighwayHash 基于哈希的校验和来防范位衰减。&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="790" y="780" width="2690" height="150" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--19" value="一致性" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" vertex="1" parent="1">
          <mxGeometry x="600" y="940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="20hMEODcdLOq8SeCK55--22" value="&lt;ul style=&quot;margin: 0px 0px 0px 30px; padding: 0px; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; background-color: rgba(255, 255, 255, 0.5);&quot;&gt;&lt;li style=&quot;margin: 0px 0px 1em; padding: 0px; list-style: disc;&quot;&gt;&lt;b&gt;Minio 在分布式和单机模式下，所有读写操作都严格遵守 read-after-write 一致性模型&lt;/b&gt;。&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="800" y="955" width="590" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
